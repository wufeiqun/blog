## MySQL5.7主从同步多线程配置

Mysql5.7默认的主从同步是单线程的, 如果遇到主库

1. 在线配置

```
STOP SLAVE;
SET GLOBAL slave_parallel_workers = 8;
SET GLOBAL slave_parallel_type = 'LOGICAL_CLOCK';
START SLAVE;
```

2. 持久化配置

```
[mysqld]
server-id = 2
relay_log = relay-bin
read_only = 1
log_slave_updates = 1

# 多线程复制配置
slave_parallel_type = LOGICAL_CLOCK
slave_parallel_workers = 8
master_info_repository = TABLE
relay_log_info_repository = TABLE
relay_log_recovery = ON
gtid_mode = ON
enforce_gtid_consistency = ON
binlog_format = ROW
```

可以使用`show processlist;`验证, 可以看到多个主从同步的线程.
